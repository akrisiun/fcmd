Памятка разработчикам FC
====

File Commander - кросс-платформенный файловый менеджер модульной структуры.
В качестве библиотеки UI используется [XWT Window Toolkit](https://github.com/mono/xwt).
Написан FC на языке C# для среды .NET 4.0/VS 2013. Теоретически есть возможность компиляции в VS 2010.

Расширения пишутся на любом языке .NET, наследют интерфейсы из pluginner.dll и компилируются в библиотеки DLL, затем регистрируются в реестровых файлах (либо добавляются в виде классов C# в папку base-plugins и зашиваются в pluginfinder.cs). Позже они загружаются в File Commander и вызываются аналогично встроенным в сам FC (не вынесены в DLL).

Руководитель проекта - Александр Тауенис (atauenis, он же А.Т.), программист-любитель с 2007 года.
Общение по теме разработки производится в GitHub Issues, на форуме по адресу: http://atauenis.ru/phpBB3/viewtopic.php?f=4&t=211 и в личной переписке по почте: atauenis@yandex.ru.
По решению членов проекта, могут созываться конференции на IRC в сети RusNet, на канале #fcmd-dev. IRC выбрана по причине доступности данного протокола по любому виду связи и с любого устройства, а также удобности "быстрого" общения в чате (не надо всё время жать F5).

Релизы (пока что pre-alpha) выходят каждый месяц в районе 24 числа (проект начат 24/06/2013, так проще считать месяцы разработки). При написании кода, и в особенности, при приближении 24 числа, код обязательно надо тестировать под всеми известными бэкендами Xwt - GTK#, WPF, макинтошными. Они все работают по разному, везде разная отработка событий, поведение свойств, etc, это надо учитывать.

##Древо каталогов таково:
	корень репозистария: сам FC
	-base-plugins: встроенные расширения FC
	--fs: модули доступа к файловым системам
	--ve: модули просмотра/редактирования файлов (для VE)
	-pluginner: адаптер расширений FC и базовый тулкит (pluginner.dll)
    --Toolkit: набор общих классов для FC и его плагинов
    --Widgets: набор виджетов, применяемых как в самом FC, так и в его плагинах
	-stolen-opensource-libs: самодельные бинарники XWT (на базе репозитария https://github.com/mono/xwt)

Большие классы раздроблены (partial) на несколько файлов, по направленности. Это улучшает читабельность кода и даёт возможность избежать кучи public-функций.

##Стиль оформления кода
Любые изменения, меняющие алгоритм работы программы (не мелкие багфиксы на полторы строчки), необходимо сопровождать указанием авторства. Это делается в начале файла, указав над строкой "Contributors should place own signs here" (Приложившие свои руки должны тут отмечаться) год, своё имя-фамилию или ник и адрес электронной почты. Это сделано для того, чтобы любой, кому потребовалось узнать принцип работы кода, могу знать его от авторов. Это бывает полезно в случае содержания говнокода.

Комментарии: Код сложнее 5 строчек должен комментироваться. Комментарии составляются либо на грамотном английском (предподчительно), либо, если иначе совсем никак, на русском, украинском, белорусском, сербскохорватском или другом легкочитаемом славянском языке. Мат не допускается ни на одном языке. Вежливость и политкоректность крайне приветствуются.

Отступы: tab.
Фигурные скобки: в одну строку с if/for/while/try/catch/property/чтотамещё (кроме подпрограмм и функций)

	if(xxx){
		yyy;
	}

Подпрограммы и функции оформлять так:

	///<summary>что за байда</summary>
	///<param>что вписывать1</param>
	///<param>что вписывать2</param>
	видимость тип название(аргументы)
	{
		код;
	}

Вложенные в аргументы функций делегаты, Action'ы и анонимные функции желательно оформлять аналогично подпрограммам:

	Xwt.Application.Invoke(
		new Action(
			delegate
			{
				код;
			}
		)
	);

Пустые циклы не приветствуются, однако если без них всё же никак (семафоры, костыли, etc), то оформляются в одну строку, дабы было сразу понятно:

	while (!ready) {};
либо:

	do {} while (!ready);

Отступы (Табуляции) в коде осуществляются символом `Tab` (в Visual Studio настраивается через Tools->Options->Text Editor->C#->Tabs->Раздел Tab->положение Keep tabs).

* Любой временный код, не допускаемый к выкату в продакшн, обязательно следует комментировать строкой "//убрать". В IDE при этом нужно сделать выделение данного User Task в списке Task list как можно более красным и приоритетным. По возможности убирайте его до коммита.
* Код, недоделанный и требующий срочной доводки до ума, следует отмечать "//undone: то-то то-то то-то".
* Планы на будущее отмечаются комментарием "//todo: хорошо бы когда-нибудь то-то то-то то-то"
* Код, подверженный зарегистрированному в GitHub Issues багу, необходимо помечать "//See GH bug #xyz" или в этом роде

##Применяемые сокращения
В комментарияк к коду, коммитам и багам разрешается сокращать названия классов до первых букв. Итак, на данный момент устаканились следующие сокращения:

* FC - File Commander
* VE - Viewer/Editor (VEd.cs)
* PT - PlainText plugin
* PXML = PlainXML plugin
* FLP - FileListPanel
* LV2 - ListView2
* lvi - ListView2Item (для переменных)
* RQD - ReplaceQuestionDialog
* mbx - MsgBox.cs (для переменных) [УСТАРЕЛ].
* MW, MainWin, главное окно - все части дроблёного класса MainWindow
* FPD - FileProcessDialog
* ibx - inputbox (для переменных)
* LocalFS, lfs - встроенный плагин localFileSystem

##Языковые файлы
Языковые файлы для FC представляют из себя INI-подобные файлы, только без секций. Синтаксис прост:

	string1=value
	string2=value
	;comment
	;comment 2
    string3=value

Наименования строк можно найти в файле Localizator.cs, в будущем планируется выпуск учебного файла на базе английской локализации (которой тоже пока нет). Как только "устаканится" список строк, будет выпущена английская локализация и добавлена загрузка из внешних файлов (пока единственная локаль наглухо зашита в коде).
